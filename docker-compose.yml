version: '3'
services:
    mongodb:
        image: mongo:latest
        container_name: "mongodb"
        environment:
          - MONGO_DATA_DIR=/data/db
          - MONGO_LOG_DIR=/dev/null
          - MONGODB_USER = admin
          - MONGDB_PASS = admin
        volumes:
          - ./data/db:/data/db
        ports:
            - 27017:27017

    rabbitmq:
       image: "rabbitmq:3-management"
       hostname: "rabbit"
       environment:
         RABBITMQ_DEFAULT_VHOST: 'vhost'
       ports:
         - "15672:15672"
         - "5672:5672"
       labels:
         NAME: "rabbitmq"
       volumes:
       - ./rabbitmq-isolated.conf:/etc/rabbitmq/rabbitmq.config

    redis:
      image: 'redis:4-alpine'
      command: redis-server --requirepass admin
      ports:
        - '6379:6379'

